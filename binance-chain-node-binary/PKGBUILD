# Maintainer: Wilson E. Alvarez <wilson.e.alvarez1@gmail.com>

pkgname=binance-chain-node-binary-bin
pkgver=0.8.2
pkgrel=1
pkgdesc="Binance Smart Chain node binaries (including miner and other command line tools)"
arch=('x86_64')
url="https://github.com/binance-chain/bsc"
license=('GPL')
provides=('bsc')
conflicts=('go-ethereum')
depends=('go')
source=(
	"bnbchaind-linux.zip::https://github.com/binance-chain/node-binary/releases/download/v${pkgver}/bnbchaind-linux.zip"
	"bnbcli-linux.zip::https://github.com/binance-chain/node-binary/releases/download/v${pkgver}/bnbcli-linux.zip"
	"config.zip::https://github.com/binance-chain/node-binary/releases/download/v${pkgver}/config.zip"
	)
sha256sums=(
	'2fefe782a94e757f8786039aa03b8fbb95371d7d675d68f5198517c406a30f20'
	'3fac66c8926615f809c04372fff665bc8b9588ab936c8c48c13cb4f9973bab66'
	'a10a39a8d69ae8431fad75ec8eb8f07cf4456c0b853137b08a2ec4e751fb252d'
	)

build() {
	:
}

package() {
	mkdir -p "$pkgdir/usr/bin"
	install -Dm 755 ${srcdir}/bnbchaind ${pkgdir}/usr/bin/bnbchaind
	install -Dm 755 ${srcdir}/bnbcli ${pkgdir}/usr/bin/bnbcli

	local config_template_directory="$pkgdir/usr/share/binance-chain/fullnode"
	mkdir -p "$config_template_directory"
	install -Dm 644 ${srcdir}/config/app.toml "$config_template_directory"/app.toml
	install -Dm 644 ${srcdir}/config/config.toml "$config_template_directory"/config.toml
	install -Dm 644 ${srcdir}/config/genesis.json "$config_template_directory"/genesis.json
}
